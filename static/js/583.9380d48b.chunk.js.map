{"version":3,"file":"static/js/583.9380d48b.chunk.js","mappings":"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","sources":["api/movies-api.js","components/Button/Button.jsx","webpack://react-homework-template/./src/components/ListMovies/ListMovies.module.css?08bb","components/ListMovies/ListMovies.jsx","webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/authentication';\naxios.defaults.params = { api_key: '209d500b4ce5da22054e85cc200e2b8c0' };\n\nconst getMoviesInTrend = async () => {\n  try {\n    const { data } = await axios.get(`/trending/movie/day`);\n    return data.results;\n  } catch (error) {\n    console.log('error', error);\n  }\n};\n\nconst searchMovies = async search => {\n  try {\n    const { data } = await axios.get(`/search/movie?query=${search}`);\n    return data.results;\n  } catch (error) {}\n};\n\nconst getMovieDetail = async movieId => {\n  try {\n    const { data } = await axios.get(`movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst getCast = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst getReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst moviesApi = {\n  getMoviesInTrend,\n  searchMovies,\n  getMovieDetail,\n  getCast,\n  getReviews,\n};\nexport default moviesApi;\n","const Button = ({ children, className, onClick, ...allyProps }) => (\n    <button className={className} onClick={onClick} {...allyProps}>\n      {children}\n    </button>\n  );\n  \n  export default Button;","// extracted by mini-css-extract-plugin\nexport default {\"wrapList\":\"ListMovies_wrapList__e43rA\",\"item\":\"ListMovies_item__lLotJ\",\"img\":\"ListMovies_img__EEB3G\"};","import { NavLink, useLocation } from 'react-router-dom';\nimport DefaultMovieImg from '../../defaultImg/defaultMovieImg.jpg';\nimport styles from './ListMovies.module.css';\n\nconst ListMovies = ({ movies,}) => {\n  const location = useLocation();\n  return (\n    <ul className={styles.wrapList}>\n      {movies.map(({ id, title, poster_path }) => (\n        <li key={id} className={styles.item}>\n          <NavLink to={`/movies/${id}`} state={{ from: location }}>\n            <img\n              className={styles.img}\n              src={\n                poster_path\n                  ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                  : `${DefaultMovieImg}`\n              }\n              alt={title}\n            />\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default ListMovies;","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__e1yzW\",\"buttonForm\":\"Form_buttonForm__aSP9Y\",\"input\":\"Form_input__FTtTw\",\"iconSearch\":\"Form_iconSearch__hYzwQ\"};","import { useState } from 'react';\nimport styles from './Form.module.css';\nimport Button from 'components/Button';\n\nconst Form = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handlerInput = ({ target }) => {\n    setSearch(target.value);\n  };\n\n  const handlerSubmit = e => {\n    e.preventDefault();\n    onSubmit(search.trim());\n    setSearch('');\n  };\n  return (\n    <form onSubmit={handlerSubmit} className={styles.form}>\n      <input\n        type=\"text\"\n        name=\"search\"\n        value={search}\n        onChange={handlerInput}\n        className={styles.input}\n      />\n      {search && <Button type=\"submit\" className={styles.buttonForm}>\n              Search\n            </Button>}\n    </form>\n    // <form onSubmit={handlerSubmit}>\n    //   <input type=\"text\" value={search} onChange={handlerInput} />\n    //   <button type=\"submit\">Search</button>\n    // </form>\n  );\n};\n\nexport default Form;","import moviesApi from 'api/movies-api';\nimport Form from 'components/Form';\nimport ListMovies from 'components/ListMovies';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchMovie = searchParams.get('query') || '';\n\n  useEffect(() => {\n    const onSearch = async () => {\n      const mov = await moviesApi.searchMovies(searchMovie);\n      setMovies(mov);\n    };\n    onSearch();\n  }, [searchMovie]);\n\n  const onChangeQuery = searchQuery => {\n    searchQuery.length > 0 && setSearchParams({ query: searchQuery });\n  };\n\n  return (\n    <main>\n      <Form onSubmit={onChangeQuery} />\n      <ListMovies movies={movies} />\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["axios","defaults","baseURL","params","api_key","getMoviesInTrend","async","data","get","results","error","console","log","searchMovies","concat","search","getMovieDetail","movieId","getCast","cast","getReviews","_ref","children","className","onClick","allyProps","_jsx","movies","location","useLocation","styles","map","_ref2","id","title","poster_path","NavLink","to","state","from","src","alt","onSubmit","setSearch","useState","_jsxs","e","preventDefault","trim","type","name","value","onChange","target","Button","Movies","setMovies","searchParams","setSearchParams","useSearchParams","searchMovie","useEffect","mov","moviesApi","onSearch","Form","searchQuery","length","query","ListMovies"],"sourceRoot":""}